# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Repository Overview

This is a personal Neovim configuration using Lua and the lazy.nvim plugin manager. The entire configuration is contained in a single `init.lua` file that sets up a modern, LSP-powered development environment.

## Key Files

- `init.lua`: Main configuration file containing all Neovim settings, keymaps, and plugin configurations
- `lazy-lock.json`: Plugin version lockfile generated by lazy.nvim

## Common Commands

### Neovim Operations
```bash
# Start Neovim
nvim

# Start Neovim with a specific file
nvim <filename>

# Check Neovim version
nvim --version
```

### Plugin Management
Plugins are managed through lazy.nvim. All plugin operations are done within Neovim:
- `:Lazy` - Open plugin manager interface
- `:Lazy sync` - Update plugins to match lockfile
- `:Lazy update` - Update all plugins
- `:Lazy install` - Install missing plugins

### Formatting
The configuration uses conform.nvim with automatic formatting on save:
- `<leader>F` or `<leader>f` - Manual format current buffer
- Formatters configured: gofmt (Go), stylua (Lua), prettier (JS/TS/JSON/CSS/HTML/YAML), black (Python)

Note: `stylua` formatter is referenced in the config but not currently installed on the system.

## Architecture

### Plugin Structure
The configuration uses lazy.nvim for plugin management with the following key components:

1. **Core Editor**: Basic Neovim settings and keymaps
2. **Syntax Highlighting**: nvim-treesitter with auto-installation for multiple languages
3. **Fuzzy Finding**: Telescope with file/buffer/grep functionality
4. **LSP**: nvim-lspconfig with support for Lua, Go, TypeScript, and Python
5. **Autocompletion**: nvim-cmp with LSP, snippet, buffer, and path sources
6. **Formatting**: conform.nvim with auto-format on save
7. **File Explorer**: Neo-tree file manager
8. **Git Integration**: LazyGit integration
9. **UI**: Lualine statusline, Catppuccin colorscheme
10. **Utilities**: Spectre for search/replace, mini.bufremove for buffer management

### Key Mappings
- Leader key: `<Space>`
- File operations: `<leader>ff` (find files), `<leader>fg` (live grep), `<leader>e` (toggle file explorer)
- Buffer management: `<Tab>` (next buffer), `<S-Tab>` (previous buffer), `<leader>bd` (delete buffer)
- Window management: `<leader>\` (vertical split), `<leader>-` (horizontal split)
- LSP: `gd` (definition), `gr` (references), `K` (hover), `<leader>.` (code action)
- Git: `<leader>gg` (lazygit)

### LSP Configuration
Currently configured language servers:
- **lua_ls**: Lua language server with Neovim API support
- **gopls**: Go language server
- **ts_ls**: TypeScript/JavaScript language server  
- **pyright**: Python language server

All LSP servers are configured with nvim-cmp capabilities for autocompletion.

### Buffer/Window Management
The configuration includes sophisticated buffer and window management:
- Safe window closing that prevents accidental Neovim exits
- Buffer deletion that preserves window layouts
- Automatic handling of utility windows (help, quickfix, etc.)

## Development Workflow

1. **Editing Files**: Use `<leader>ff` to find and open files, or `<leader>e` to browse with Neo-tree
2. **Navigation**: Use LSP keymaps (`gd`, `gr`, etc.) for code navigation
3. **Searching**: Use `<leader>fg` for live grep or `<leader>sr` for project-wide search/replace
4. **Formatting**: Code is auto-formatted on save, or use `<leader>F` for manual formatting
5. **Git Operations**: Use `<leader>gg` to open LazyGit for git operations

## Plugin Dependencies

The configuration assumes certain external tools are available:
- Language servers (lua-language-server, gopls, typescript-language-server, pyright)
- Formatters (stylua, prettier, black, gofmt)
- Git and lazygit
- ripgrep (for Telescope live grep)

Most tools will be automatically installed by their respective language ecosystems or can be installed via package managers.